<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_ai_bot_wizard_form" model="ir.ui.view">
            <field name="name">ai.bot.wizard.form</field>
            <field name="model">ai.bot.wizard</field>
            <field name="arch" type="xml">
                <form string="AI ChatBot">
                    <sheet>
                        <div class="text-center mb-4">
                            <h1 style="color: #714B67;">MONKEY AI ChatBot üôä</h1>
                            <p class="text-muted">H·ªèi t√¥i v·ªÅ Nh√¢n s·ª±, D·ª± √°n ho·∫∑c T√†i ch√≠nh...</p>
                        </div>
                        
                        <group>
                            <field name="question" placeholder="H·ªèi b·∫•t k√¨ c√¢u h·ªèi n√†o li√™n quan ƒë·∫øn nh√¢n s·ª±/d·ª± √°n c·ªßa b·∫°n !"/>
                        </group>
                        
                        <div class="text-center mt-3 mb-3">
                            <button name="action_ask_ai" 
                                    string="G·ª≠i c√¢u h·ªèi" 
                                    type="object" 
                                    class="btn btn-primary oe_highlight"
                                    style="font-size: 16px; padding: 10px 30px;"/>
                        </div>
                        
                        <group string="Tr·∫£ l·ªùi" attrs="{'invisible': [('answer', '=', False)]}">
                            <div style="background-color: #f1f8ff; padding: 15px; border-radius: 8px; border: 1px solid #cce5ff;">
                                <field name="answer" widget="html" nolabel="1" readonly="1"/>
                            </div>
                        </group>
                    </sheet>
                    <footer>
                        <button string="ƒê√≥ng l·∫°i" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="action_ai_chat_wizard" model="ir.actions.act_window">
            <field name="name">B·∫Øt ƒë·∫ßu Chat</field>
            <field name="res_model">ai.bot.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field> </record>


        <record id="view_ai_history_tree" model="ir.ui.view">
            <field name="name">ai.bot.history.tree</field>
            <field name="model">ai.bot.history</field>
            <field name="arch" type="xml">
                <tree string="L·ªãch s·ª≠ Chat" create="0" edit="0" delete="1">
                    <field name="create_date"/>
                    <field name="question"/>
                    <field name="answer" widget="html" options="{'truncate_length': 100}"/>
                </tree>
            </field>
        </record>
        
        <record id="view_ai_history_form" model="ir.ui.view">
            <field name="name">ai.bot.history.form</field>
            <field name="model">ai.bot.history</field>
            <field name="arch" type="xml">
                <form create="0" edit="0">
                    <sheet>
                        <div class="oe_title">
                            <label for="question" class="oe_edit_only"/>
                            <h1><field name="question"/></h1>
                        </div>
                        <group>
                            <field name="create_date"/>
                        </group>
                        <separator string="C√¢u tr·∫£ l·ªùi t·ª´ AI"/>
                        <div style="background-color: #f9f9f9; padding: 20px; border-radius: 5px;">
                            <field name="answer" widget="html" readonly="1"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_ai_history" model="ir.actions.act_window">
            <field name="name">L·ªãch s·ª≠</field>
            <field name="res_model">ai.bot.history</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Ch∆∞a c√≥ l·ªãch s·ª≠ chat n√†o!
                </p>
                <p>
                    H√£y b·∫•m v√†o menu <b>"üí¨ B·∫Øt ƒë·∫ßu Chat"</b> ph√≠a tr√™n ƒë·ªÉ h·ªèi AI.
                </p>
            </field>
        </record>


        <menuitem id="menu_ai_root" 
                  name="Tr·ª£ l√Ω AI" 
                  sequence="99" 
                  action="action_ai_history"/>

        <menuitem id="menu_ai_chat_popup" 
                  name="üí¨ B·∫Øt ƒë·∫ßu Chat" 
                  parent="menu_ai_root" 
                  sequence="1" 
                  action="action_ai_chat_wizard"/>

        <menuitem id="menu_ai_history" 
                  name="üìú Xem l·ªãch s·ª≠" 
                  parent="menu_ai_root" 
                  sequence="2" 
                  action="action_ai_history"/>

    </data>
</odoo>